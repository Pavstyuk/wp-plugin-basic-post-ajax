document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("submit"),t=document.getElementById("form_to_submit");if(e&&t){let a=t.querySelectorAll(".required");a.forEach((e=>{e.addEventListener("input",(()=>{e.value.length>=1&&e.classList.contains("is-invalid")&&e.classList.remove("is-invalid")}))})),e.addEventListener("click",(i=>{i.preventDefault();let l=!0;a.forEach((e=>{""===e.value&&(e.classList.add("is-invalid"),l=!1)}));const s=t.querySelector("#password").value;l&&("basic"===s?(e.value="В процессе...",e.setAttribute("disabled","disabled"),fetch("/wp-content/plugins/basic-post-ajax/insert-post-to-bd.php",{method:"POST",body:new FormData(t)}).then((e=>e.text())).then((a=>{alert("Объект опубликован!"),t.querySelectorAll("input").forEach((e=>{e.value=""})),e.value="Отправить",e.removeAttribute("disabled")}))):alert("Неверный пароль"))}))}}));